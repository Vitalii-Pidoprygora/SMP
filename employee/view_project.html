<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="shortcut icon" type="image/x-icon" href="../img/index.ico" />
    <!-- CDN Core CSS -->
    <link rel="stylesheet" href="../css/bootstrap.min.css" />
    <link rel="stylesheet" href="../css/fa.all.css" />
    <!-- Local CSS -->
    <link rel="stylesheet" href="../css/common.css" media="screen" title="no title" charset="utf-8" />
    <link rel="stylesheet" href="../css/jquery.datetimepicker.min.css" media="screen" title="no title"
        charset="utf-8" />
    <!-- CDN Core JS -->
    <script src="../js/jquery-3.3.1.slim.min.js"></script>
    <script src="../js/popper.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <!-- CDN Extended JS -->
    <script src="../js/moment.min.js"></script>
    <script src="../js/moment-timezone-with-data.min.js"></script>
    <script src="../js/jquery.maskedinput.min.js"></script>
    <!-- Local JS -->
    <script src="../js/common.js" type="text/javascript"></script>
    <script src="../js/jquery.datetimepicker.full.min.js" type="text/javascript"></script>
    <!-- Document Title -->
    <title>Employee: Project Details</title>
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top" id="site-navbar">
        <script>
            load_employee_navbar('projects')
        </script>
    </nav>
    <!-- ./Navigation -->

    <main role="main" class="container-fluid cb-container-lg" style="margin-bottom:50px;">
        <h3 class="mt-3" id="main-title">Project Details</h3>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item active" aria-current="page">
                    <a href="my_project.html?cbResetParam=1">
                        <i class="fas fa-project-diagram"></i>
                        My Projects
                    </a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                    Project Details
                </li>
            </ol>
        </nav>

        <!-- Content -->
        <div class="content-wrapper">
            <div class="row">
                <div class="col">
                    <div class="cb-custom-card">
                        <h4>Details</h4><br>
                        <script type="text/javascript"
                            src="https://c3fot067.caspio.com/dp/498c4000f9da3a462b9f430b8ae6/emb"></script>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div><br>
            <div class="cb-result-container">
                <div class="cb-custom-card">
                        <h4>Tasks</h4><br>
                        <script type="text/javascript"
                        src="https://c3fot067.caspio.com/dp/498c4000c6b35c88aa844ae5a698/emb"></script>
                </div>
            </div>
        </div>
        <!-- ./Content -->
    </main>

    <script>
        document.addEventListener("DataPageReady", function () {

            let type = $("#cbParamVirtual1").val()
            $("#cbParamVirtual1").hide()
            $("label[for=cbParamVirtual1]").hide()

            if (type == "No") {
                $("#EditRecordProjectName").attr("readonly", "true")
                $("#EditRecordProjectFile").attr("readonly", "true")
                $("#EditRecordProjectDescription").attr("readonly", "true")
                $("#EditRecordStartDate").attr("readonly", "true")
                $("#EditRecordCompletionDate").attr("readonly", "true")
                $("#EditRecordStatus").attr("readonly", "true")

                // project manager
                let pm = $("#EditRecordProjectManagerID option:selected").text()
                $("input[name=cbParamVirtual2]").attr("type", "text")
                $("input[name=cbParamVirtual2]").attr("readonly", "true")
                $("input[name=cbParamVirtual2]").val(pm)
                $("input[name=cbParamVirtual2]").css("width", "100%")

                // status
                let status = $("#EditRecordStatus option:selected").text()
                $("input[name=cbParamVirtual3]").attr("type", "text")
                $("input[name=cbParamVirtual3]").attr("readonly", "true")
                $("input[name=cbParamVirtual3]").val(status)
                $("input[name=cbParamVirtual3]").css("width", "100%")

                $("label[for=EditRecordStatus]").hide()
                $("#EditRecordStatus").hide()
                $("input[name=Mod0EditRecord]").hide()
            }
            else {
                $("td[data-cb-cell-name^=cbParamVirtual2]").hide()
                $("td[data-cb-cell-name^=cbParamVirtual3]").hide()
            }
        })

    </script>
</body>

</html>